<html>
<head>
<title>My first Three.js app</title>
<style>canvas { width: 100%; height: 70% }</style>
</head>
<body>  
  <div id="main">
  
  <script src="lib/three.min.js"></script>
  <script src="lib/dat.gui.min.js"></script>
  <script>
  function init() {

    var scene = new THREE.Scene();

    var box = getBox(2, 2, 2, true);
    var box2 = getBox(2, 2, 2);

    scene.add(box);
    scene.add(box2);

    var plane = new THREE.GridHelper(10, 10);
    scene.add(plane);

    var cubeAxis = new THREE.AxesHelper(5);
    
    box2.add(cubeAxis);
    box.add(cubeAxis);

    var camera = new THREE.PerspectiveCamera(70, 
    window.innerWidth/window.innerHeight, 0.1, 1000 ); // Specify camera type like this
    camera.position.set(2,2.5,5.5); // Set position like this
    camera.lookAt(new THREE.Vector3(0,-1,-1)); // Set look at coordinate like this

    var renderer = new THREE.WebGLRenderer();

    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);
    
    const params = {
      Tx: "10i + 50j - 50k",
      Ty: "50i + 200j",
      Tz: "-50i + 200k",
      N1: `sqrt(3)/2i + 1/4j + sqrt(3)/4k`,
      N2: `-1/2i + sqrt(3)/4j + 3/4k`,
      N3: `-sqrt(3)/2j + 1/2k`
  }

  const gui = new dat.GUI({ width: 400});
  let Tx = '';
  let Ty = '';
  let Tz = '';
  const folder1 = gui.addFolder( 'T' );
  const folder2 = gui.addFolder( 'N' );
  folder1.add(params, "Tx", -5, 5).onFinishChange(function (value) {    
      QX = value;
      console.log(`Qx = ${QX}`);
      console.log(`Qy = ${QY}`);
  });

  folder1.add(params, "Ty").onFinishChange(function (value) {    
      QY = value;
      console.log(`Qx = ${QX}`);
      console.log(`Qy = ${QY}`);
      document.getElementById("info").innerHTML = "whatever";
  });

  folder1.add(params, "Tz").onFinishChange(function (value) {    
      QY = value;
      console.log(`Qx = ${QX}`);
      console.log(`Qy = ${QY}`);
      document.getElementById("info").innerHTML = "whatever";
  });

  folder2.add(params, "N1").onFinishChange(function (value) {    
      QY = value;
      console.log(`Qx = ${QX}`);
      console.log(`Qy = ${QY}`);
      document.getElementById("info").innerHTML = "whatever";
  });

  folder2.add(params, "N2").onFinishChange(function (value) {    
      QY = value;
      console.log(`Qx = ${QX}`);
      console.log(`Qy = ${QY}`);
      document.getElementById("info").innerHTML = "whatever";
  });


  folder2.add(params, "N3").onFinishChange(function (value) {    
      QY = value;
      console.log(`Qx = ${QX}`);
      console.log(`Qy = ${QY}`);
      document.getElementById("info").innerHTML = "whatever";
  });

  folder1.open();
  folder2.open();

  var obj = { add:function(){ console.log("clicked") }};

  gui.add(obj,'add').name('     Apply     ');

    renderer.render(scene, camera);

    function render() {
      //requestAnimationFrame(render);
      box.rotation.x += 0.785398;
      //box2.rotation.y += 0.00;
      box.rotation.z += 0.785398;
      //renderer.render(scene, camera);
      setTimeout(() => {
        renderer.render(scene, camera);
        //render();
      }, 1000)
    };

    render();
  }

  function getBox(w, h, d, color) {
    
    var geometry = new THREE.BoxGeometry(w, h, d, 5 , 5 , 5);
    
    if (color) {
      var material = new THREE.MeshBasicMaterial({color: 0xfffff, wireframe: true});
    }
    else {
      var material = new THREE.MeshBasicMaterial({color: 'gray', wireframe: true});
    }



    var mesh = new THREE.Mesh(geometry, material);

    return mesh;
  } 

  init();

  </script>
  </div>
<div id="info">    
  ddd
  <p>
    ddd
  </p>>

  <p>
    ddd
  </p>

  <p>
    ddd
  </p>>

  <p>
    ddd
  </p>>
  ddd
  ddd
  ddd
  ddd
  ddd
  ddd
  ddd
  ddd



</div>
</body>
</html>